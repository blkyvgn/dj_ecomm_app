{% load static %}
{% load i18n %}
{% load helpers %}

{% if item.units %}
	<div class="d-flex justify-content-center align-items-center">
		<span class="text-muted" onclick="compare.toggle()" data-prodid="{{ item.id }}">
			<i class="fa fa-balance-scale px-4 {% if item.id|to_str in compare.get_product_ids %}text-primary{% endif %}" aria-hidden="true"></i>
		</span>
		<span class="text-muted" onclick="wish.toggle()" data-prodid="{{ item.id }}">
			<i class="fa fa-heart px-4 {% if item.id|to_str in wish.get_product_ids %}text-primary{% endif %}" aria-hidden="true"></i>
		</span>
	</div>
	{% cart_product_qty cart item.id as item_quantity %}
	<button type="button" class="position-relative btn 
		{% if item.id in cart.get_product_ids %}
			btn-success
		{% else %}
			btn-primary
		{% endif %} {% if w_full %}w-100{% endif %}"
		onclick="cart.select()" 
        data-prodid="{{ item.id }}" 
        data-quantity="{{ item_quantity|default_if_none:'' }}"
    >
	    	<span id="item-not-in-cart" class="{% if item.id in cart.get_product_ids %}hidden{% endif %}">
	    		Add to cart
	    	</span>
	    	<span id="item-in-cart" class="{% if item.id not in cart.get_product_ids %}hidden{% endif %}">
	    		Added to cart
	    	</span>
	    	{% if icon %}
	    		<span class="text pl-2"><i class="fas fa-shopping-cart"></i></span>
	    	{% endif %}
		<span class="position-absolute badge rounded-pill bg-success top-right
		{% if item.id not in cart.get_product_ids %}hidden{% endif %}">
			<small>{{ item_quantity }}</small>
		</span>
    </button>
{% else %} 
	<button type="button" class="btn btn-secondary w-100">Not available</button>
{% endif %}